<script type="text/javascript">

    /* eslint-env browser, jquery */
    /* eslint-disable strict */
    /* global RED */

    RED.nodes.registerType('wirelesstag-config', {
        category: 'config',
        defaults: {
            apiURI: { value: "" },
            name: { value: "" }
        },
        credentials: {
            username: { type: "text" },
            password: { type: "password" }
        },
        label: function() {
            return this.name ? this.name : "Wirelesstag Cloud";
        }
    });
</script>

<script type="text/x-red" data-template-name="wirelesstag-config">
    <div class="form-row">
        <label for="node-config-input-apiURI"><i class="fa fa-bookmark"></i> API Base URI</label>
        <input type="text" id="node-config-input-apiURI" placeholder="Default">
    </div>
    <div class="form-row">
        <label for="node-config-input-username"><i class="fa fa-user"></i> Username (Email)</label>
        <input type="text" id="node-config-input-username">
    </div>
    <div class="form-row">
        <label for="node-config-input-password"><i class="fa fa-key"></i> Password</label>
        <input type="password" id="node-config-input-password">
    </div>
    <div class="form-row">
        <label for="node-config-input-name"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-config-input-name" placeholder="Optional">
    </div>
</script>

<script type="text/x-red" data-help-name="wirelesstag-config">
<p>Configuration of the JSON Web Service (Cloud) <strong>API
    connection</strong> to use for Wirelesstag nodes.</p>
 <p>Currently only supports authentication with username (an email
    address) and password. It is highly recommended to create a
    separate service account as a "limited user" for this, rather than
    using the credentials of the "main" user
    account. (<a href="https://github.com/hlapp/wirelesstags-js#installation-and-setup" target="_blank">Reasons</a>.)</p>
 <p>The base URI for the JSON Web API server can also be configured if
    it is different from the <a href="http://lappland.io/wirelesstags-js/wirelesstags/0.5.3/module-lib_platform.html#~API_BASE_URI"target="_blank">default URI</a>
   (such as for tag managers using
    the <a href="https://groups.google.com/d/msg/wireless-sensor-tags/cyGI5sauSmg/DMvpFWvpAQAJ" target="_blank">new API server</a>),  or
    for self-hosted API servers.</p>
    <p>Note that after configuring a <em>new</em> Cloud API
      connection, the node set to use it <em>must</em> first be
      deployed (with therefore incomplete configuration) before the
      auto-populated selection lists can be filled. An error message
      will indicate this.
    </p>
</script>
